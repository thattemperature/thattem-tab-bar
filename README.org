#+TITLE: thattemâ€‘tabâ€‘bar
#+AUTHOR: That Temperature
#+EMAIL: 2719023332@qq.com
#+LANGUAGE: en
#+OPTIONS: toc:nil author:nil ^:nil
#+HTML: <a href=\"https://www.gnu.org/licenses/gpl-3.0\"><img src=\"https://img.shields.io/badge/license-GPL%20v3-blue.svg\" alt=\"License: GPL v3\"></a>
#+HTML: <a href=\"https://www.gnu.org/software/emacs/\"><img src=\"https://img.shields.io/badge/Emacs-%3E%3D30.1-%237F5AB6\" alt=\"Emacs â‰¥ 30.1\"></a>
#+HTML: <a href=\"https://github.com/thattemperature/thattem-tab-bar\"><img src=\"https://img.shields.io/badge/GitHub-thattem--tab--bar-181717\" alt=\"GitHub\"></a>

* ğŸŒˆ A Beautiful, Iconâ€‘Driven Tab Bar for Emacs

*thattemâ€‘tabâ€‘bar* replaces Emacsâ€™s default tabâ€‘bar with a visually
rich, iconâ€‘based interface that respects light and dark themes, offers
perâ€‘tab colorâ€‘coding, and integrates workspace switching (via
~wmctrl~).

It is built on top of Emacsâ€™s builtâ€‘in ~tabâ€‘barâ€‘mode~ and replaces
each standard item (tabs, history buttons, newâ€‘tab button,
alignâ€‘right, global info) with a version that uses **nerdâ€‘icons** and
custom faces.

* âœ¨ Features

- **Icons everywhere** â€“ tabs, history arrows, close button, newâ€‘tab
  button, and workspace indicators are all drawn with nerdâ€‘icons.
- **Themeâ€‘aware colors** â€“ separate color sets for light and dark
  themes; everything is customizable.
- **Workspace integration** â€“ show desktop workspaces (virtual
  desktops) as a row of numbered circles; click or scroll the mouse
  wheel to switch.  (Requires ~wmctrl~ and a compatible window
  manager.)
- **Rich tab display** â€“ each tab shows:
  - an icon for the bufferâ€™s majorâ€‘mode,
  - the buffer name (shortened if too long),
  - icons for every other buffer displayed in the same windowâ€‘state.
- **Mouseâ€‘wheel support** â€“ scroll over the tab bar to cycle through
  tabs or workspaces; press and hold middleâ€‘button + scroll to switch
  tabs quickly.
- **Customizable faces** â€“ six different faces (normal, big,
  highlighted) let you fineâ€‘tune the appearance of every part of the
  bar.
- **Nonâ€‘invasive** â€“ does *not* replace the underlying tabâ€‘bar
  machinery; only provides dropâ€‘in replacements for the display items.

* ğŸ“¦ Requirements

- Emacs â‰¥ 30.1
- [[https://github.com/rainstormstudio/nerd-icons.el][nerdâ€‘icons]] package
- (Optional) ~wmctrl~ commandâ€‘line tool for workspace support

* ğŸ”§ Installation

** Manual Installation

Clone the repository:

#+begin_src sh
  git clone https://github.com/thattemperature/thattem-tab-bar.git
#+end_src

Add to your ~load-path~ and require the package:

#+begin_src elisp
  (add-to-list 'load-path "/path/to/thattem-tab-bar")
  (require 'thattem-tab-bar)
#+end_src

Then enable the global minor mode:

#+begin_src elisp
  (thattem-tab-bar-mode 1)
#+end_src

** Using ~straight.el~ or ~quelpa~

If you use a package manager that supports Git sources, you can
install directly from the repository.

Example with ~straight.el~:

#+begin_src elisp
  (straight-use-package '(thattem-tab-bar
                          :type git
                          :host github
                          :repo "thattemperature/thattem-tab-bar"))
  (thattem-tab-bar-mode 1)
#+end_src

* ğŸ¨ Customization

All customizable options are under the ~thattemâ€‘tabâ€‘bar~ group.  To
change them, use ~Mâ€‘x customizeâ€‘group RET thattemâ€‘tabâ€‘bar RET~ or set
them in your init file.

** Colors

The package defines eight color variables â€“ four for light themes,
four for dark themes â€“ that control the background and foreground of
normal and highlighted parts.

- ~thattemâ€‘tabâ€‘bar/lightâ€‘theme/brightâ€‘color~
- ~thattemâ€‘tabâ€‘bar/lightâ€‘theme/brightâ€‘highlightâ€‘color~
- ~thattemâ€‘tabâ€‘bar/lightâ€‘theme/darkâ€‘color~
- ~thattemâ€‘tabâ€‘bar/lightâ€‘theme/darkâ€‘highlightâ€‘color~
- â€¦ and their darkâ€‘theme counterparts.

** Faces

Six faces are defined; you can inspect them with ~Mâ€‘x describeâ€‘face~
or override them in your theme.

- ~thattemâ€‘tabâ€‘bar/faceâ€‘1~, ~faceâ€‘2~ â€“ used for â€œsmallâ€ text (history
  arrows, alignâ€‘right spacer, etc.)
- ~thattemâ€‘tabâ€‘bar/bigâ€‘faceâ€‘1~, ~bigâ€‘faceâ€‘2~ â€“ used for â€œbigâ€ text
  (tab names, workspace numbers)
- ~thattemâ€‘tabâ€‘bar/highlightâ€‘faceâ€‘1~, ~highlightâ€‘faceâ€‘2~ â€“ used for
  highlighted items (current tab, current workspace)

** Font heights

- ~thattemâ€‘tabâ€‘bar/smallâ€‘fontâ€‘height~ (default 160)
- ~thattemâ€‘tabâ€‘bar/bigâ€‘fontâ€‘height~ (default 300)

** Workspace integration

If you have ~wmctrl~ installed, the tab bar will show a row of
numbered circles representing your virtual desktops.  The current
workspace is filled, others are outlines.

- Click a circle to switch to that workspace.
- Scroll the mouse wheel over the workspace area to move to the
  previous/next workspace.
- The executable path can be changed via
  ~thattemâ€‘tabâ€‘barâ€‘wmctrlâ€‘executable~ (defaults to ~"wmctrl"~).

If ~wmctrl~ is not available, the workspace area will show an error
message (styled with the highlight face).).

* ğŸ–±ï¸ Mouse & Key Bindings

The package adds several mouseâ€‘related improvements:

- **Leftâ€‘click** on a workspace circle switches to that workspace.
- **Mouse wheel** over the workspace area switches workspaces; over
  the tab area it switches tabs.
- **Middleâ€‘button press + wheel** (hold middle button, then scroll)
  lets you quickly cycle through tabs without moving the mouse.

  The following key bindings are installed in
  ~thattemâ€‘tabâ€‘barâ€‘modeâ€‘map~:

  | Key sequence           | Action                            |
  |------------------------+-----------------------------------|
  | ~[tabâ€‘bar wheelâ€‘up]~   | previous workspace / previous tab |
  | ~[tabâ€‘bar wheelâ€‘down]~ | next workspace / next tab         |
  | ~[downâ€‘mouseâ€‘2]~       | start middleâ€‘button + scroll mode |

* â“ Frequently Asked Questions

** Q: Does this work with ~tabâ€‘barâ€‘mode~ disabled?
No. This package enhances the standard tabâ€‘bar; you must have
~(tabâ€‘barâ€‘mode 1)~ as well.

** Q: Can I use it without nerdâ€‘icons?
No. Icons are central to the design.  You can install nerdâ€‘icons from
MELPA.

** Q: Why are the workspace numbers sometimes wrong?
Workspace detection relies on ~wmctrl -d~.  If your window manager
does not support the EWMH desktop specification, the list may be empty
or incorrect.

** Q: How do I change the order of items in the tab bar?
Customize ~tabâ€‘barâ€‘format~ after enabling ~thattemâ€‘tabâ€‘barâ€‘mode~.  The
mode only sets the variable once; later changes are preserved.

** Q: The tab bar looks too tall / too short.
Adjust ~thattemâ€‘tabâ€‘bar/smallâ€‘fontâ€‘height~ and
~thattemâ€‘tabâ€‘bar/bigâ€‘fontâ€‘height~.

* ğŸ¤ Contributing

Bug reports, feature suggestions, and pull requests are welcome on
GitHub: https://github.com/thattemperature/thattem-tab-bar.

Please ensure that any changes are consistent with the existing code
style (lexicalâ€‘binding, no unnecessary dependencies, thorough
commentary).

** Development

The package is split into several files, each responsible for a
different aspect:

| File                              | Purpose                                 |
|-----------------------------------+-----------------------------------------|
| ~thattemâ€‘tabâ€‘bar.el~              | Main entry point, minorâ€‘mode definition |
| ~thattemâ€‘tabâ€‘barâ€‘replacements.el~ | Replacement items for ~tabâ€‘barâ€‘format~  |
| ~thattemâ€‘tabâ€‘barâ€‘faces.el~        | Face definitions                        |
| ~thattemâ€‘tabâ€‘barâ€‘colors.el~       | Customizable color variables            |
| ~thattemâ€‘tabâ€‘barâ€‘advices.el~      | Advice functions for mouse events       |
| ~thattemâ€‘tabâ€‘barâ€‘newâ€‘items.el~    | Workspaceâ€‘related items                 |

The replacement items follow the same naming pattern as the builtâ€‘in
ones (e.g., ~thattemâ€‘tabâ€‘barâ€‘formatâ€‘tabs~,
~thattemâ€‘tabâ€‘barâ€‘formatâ€‘history~) and are designed to be dropâ€‘in
replacements.

If you want to build your own tabâ€‘bar format, you can mix the provided
items with the original ones.

* ğŸ“„ License

*thattemâ€‘tabâ€‘bar* is free software: you can redistribute it and/or
modify it under the terms of the GNU General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

See the file [[file:COPYING][COPYING]] for the full license text.

* ğŸ“£ Acknowledgments

- [[https://github.com/rainstormstudio/nerd-icons.el][nerdâ€‘icons]] for the beautiful icon set.
- The Emacs development team for the robust ~tabâ€‘barâ€‘mode~
  infrastructure.
- All contributors and users who test and improve the package.

  Enjoy your shiny new tab bar! ğŸ‰
